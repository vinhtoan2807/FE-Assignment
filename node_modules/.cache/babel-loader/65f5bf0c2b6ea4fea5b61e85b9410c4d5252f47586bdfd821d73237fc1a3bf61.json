{"ast":null,"code":"var _jsxFileName = \"/Users/vinhtoan287/Desktop/FE-Assignment/src/components/AvatarNotifications/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n// const BASE_URL = \"https://dev-api.lovicogroup.com/api/v1/notifications\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getToken = () => {\n  return \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImNXQjE0Zk40WGpxWm5UWVdFdnN2bCJ9.eyJnaXZlbl9uYW1lIjoiTmd1ecOqbiIsImZhbWlseV9uYW1lIjoiTmd1eeG7hW4iLCJuaWNrbmFtZSI6ImtoYWluZ3V5ZW4xMjAzIiwibmFtZSI6Ik5ndXnDqm4gTmd1eeG7hW4iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jTHpBMnRIZDZmMnJxT3ZQbkVGVG1PUFhURF9jMG5wcG1TUThfTmdfeVpBPXM5Ni1jIiwibG9jYWxlIjoiZW4iLCJ1cGRhdGVkX2F0IjoiMjAyNC0wMi0yMFQwNjoyNDo0OS4zNTdaIiwiZW1haWwiOiJraGFpbmd1eWVuMTIwM0BnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6Ly9sb3ZpY28uanAuYXV0aDAuY29tLyIsImF1ZCI6ImpjbkwzRkVyNFdaMFNMOERTT25BUnRxaUwxY2lwMmM0IiwiaWF0IjoxNzA4NDEwMjkxLCJleHAiOjUzMDY0MTAyOTAsInN1YiI6Imdvb2dsZS1vYXV0aDJ8MTA2MjU0MzQwMDE0NjMzNTczNjAxIiwic2lkIjoiUVd4SXdMU1ZBSDQzWXZ5czZGb2R5U2taWUFsZG5EUUYiLCJub25jZSI6IlZTMVVlV05KU1hjNFltRTVVa1ZLVmpGelNsQXpUblYwUlV4WGJEZDJSSDQwUVZSZk1VazVTbkZDYkE9PSJ9.YTCoBaP5ce3vOj7widkgLM1YFMlsfGpuwysOIz0YxNBrdrBZ0xfFYEnrqPlCzC5Rdx-qDM_AmZobUX07poISO6BWQKysj6X3bGfhoMrG4DVAb26gzXvhg-4JuJbz3fuu9QWBlw3U7YVfCHV2aHG38iMwPzwafDIaM2_Npny1pJQQcHt5stxRBEcsAhYa-_aLFOrToqPpT8co_VVMzXC6d35L9RIuqvFlr3l6OQJs38kznjylBSHuLHjNhbY0992AaGMmhkF7hVwY1_EBPosqNNYp44DdkNn8frxuA3F67p1AIFL6D7_7stpY1nWm9EQLN0HRWfQrBSIL4AJChQee4A\";\n};\nconst AvatarNotifications = ({\n  notification\n}) => {\n  _s();\n  const [avatar, setAvatar] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    const fetchAvatar = async () => {\n      try {\n        const response = await axios.get(`https://dev-api.lovicogroup.com/api/v1/notifications/user-avatar/${notification.createdUserId}/thumbnail`, {\n          headers: {\n            Authorization: `Bearer ${getToken()}`\n          }\n        });\n        setAvatar(response.data);\n      } catch (error) {\n        console.error(\"Error fetching avatar:\", error);\n      }\n    };\n    fetchAvatar();\n  }, [notification.createdUserId]);\n  useEffect(() => {\n    const getMessage = () => {\n      const {\n        type,\n        data\n      } = notification.payload;\n      switch (type) {\n        case \"USER_ASSIGNED_TO_TICKET\":\n          setMessage(`${data.assigningUser.name} đã giao cho bạn công việc \"${data.ticket.title}\" (${data.ticket.ticketCode})`);\n          break;\n        case \"USER_OWN_TICKET\":\n          setMessage(`${data.assigningUser.name} đã gắn bạn là người giao việc trong \"${data.ticket.title}\" (${data.ticket.ticketCode})`);\n          break;\n        default:\n          setMessage(\"\");\n      }\n    };\n    getMessage();\n  }, [notification.payload]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: avatar,\n        alt: \"User Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: notification.createdAt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(AvatarNotifications, \"AynbSTEO0DMCu9rEJIRaM96vfb8=\");\n_c = AvatarNotifications;\nexport default AvatarNotifications;\nvar _c;\n$RefreshReg$(_c, \"AvatarNotifications\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","getToken","AvatarNotifications","notification","_s","avatar","setAvatar","message","setMessage","fetchAvatar","response","get","createdUserId","headers","Authorization","data","error","console","getMessage","type","payload","assigningUser","name","ticket","title","ticketCode","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","createdAt","_c","$RefreshReg$"],"sources":["/Users/vinhtoan287/Desktop/FE-Assignment/src/components/AvatarNotifications/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n// const BASE_URL = \"https://dev-api.lovicogroup.com/api/v1/notifications\";\n\nconst getToken = () => {\n  return \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImNXQjE0Zk40WGpxWm5UWVdFdnN2bCJ9.eyJnaXZlbl9uYW1lIjoiTmd1ecOqbiIsImZhbWlseV9uYW1lIjoiTmd1eeG7hW4iLCJuaWNrbmFtZSI6ImtoYWluZ3V5ZW4xMjAzIiwibmFtZSI6Ik5ndXnDqm4gTmd1eeG7hW4iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jTHpBMnRIZDZmMnJxT3ZQbkVGVG1PUFhURF9jMG5wcG1TUThfTmdfeVpBPXM5Ni1jIiwibG9jYWxlIjoiZW4iLCJ1cGRhdGVkX2F0IjoiMjAyNC0wMi0yMFQwNjoyNDo0OS4zNTdaIiwiZW1haWwiOiJraGFpbmd1eWVuMTIwM0BnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6Ly9sb3ZpY28uanAuYXV0aDAuY29tLyIsImF1ZCI6ImpjbkwzRkVyNFdaMFNMOERTT25BUnRxaUwxY2lwMmM0IiwiaWF0IjoxNzA4NDEwMjkxLCJleHAiOjUzMDY0MTAyOTAsInN1YiI6Imdvb2dsZS1vYXV0aDJ8MTA2MjU0MzQwMDE0NjMzNTczNjAxIiwic2lkIjoiUVd4SXdMU1ZBSDQzWXZ5czZGb2R5U2taWUFsZG5EUUYiLCJub25jZSI6IlZTMVVlV05KU1hjNFltRTVVa1ZLVmpGelNsQXpUblYwUlV4WGJEZDJSSDQwUVZSZk1VazVTbkZDYkE9PSJ9.YTCoBaP5ce3vOj7widkgLM1YFMlsfGpuwysOIz0YxNBrdrBZ0xfFYEnrqPlCzC5Rdx-qDM_AmZobUX07poISO6BWQKysj6X3bGfhoMrG4DVAb26gzXvhg-4JuJbz3fuu9QWBlw3U7YVfCHV2aHG38iMwPzwafDIaM2_Npny1pJQQcHt5stxRBEcsAhYa-_aLFOrToqPpT8co_VVMzXC6d35L9RIuqvFlr3l6OQJs38kznjylBSHuLHjNhbY0992AaGMmhkF7hVwY1_EBPosqNNYp44DdkNn8frxuA3F67p1AIFL6D7_7stpY1nWm9EQLN0HRWfQrBSIL4AJChQee4A\";\n};\nconst AvatarNotifications = ({ notification }) => {\n  const [avatar, setAvatar] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    const fetchAvatar = async () => {\n      try {\n        const response = await axios.get(\n          `https://dev-api.lovicogroup.com/api/v1/notifications/user-avatar/${notification.createdUserId}/thumbnail`,\n          {\n            headers: {\n              Authorization: `Bearer ${getToken()}`,\n            },\n          }\n        );\n        setAvatar(response.data);\n      } catch (error) {\n        console.error(\"Error fetching avatar:\", error);\n      }\n    };\n\n    fetchAvatar();\n  }, [notification.createdUserId]);\n\n  useEffect(() => {\n    const getMessage = () => {\n      const { type, data } = notification.payload;\n\n      switch (type) {\n        case \"USER_ASSIGNED_TO_TICKET\":\n          setMessage(\n            `${data.assigningUser.name} đã giao cho bạn công việc \"${data.ticket.title}\" (${data.ticket.ticketCode})`\n          );\n          break;\n        case \"USER_OWN_TICKET\":\n          setMessage(\n            `${data.assigningUser.name} đã gắn bạn là người giao việc trong \"${data.ticket.title}\" (${data.ticket.ticketCode})`\n          );\n          break;\n        default:\n          setMessage(\"\");\n      }\n    };\n\n    getMessage();\n  }, [notification.payload]);\n\n  return (\n    <li>\n      <div>\n        <img src={avatar} alt=\"User Avatar\" />\n        <p>{notification.createdAt}</p>\n      </div>\n      <div>\n        <p>{message}</p>\n      </div>\n    </li>\n  );\n};\n\nexport default AvatarNotifications;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}